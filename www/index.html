<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">

<title>Gravity Assist</title>

<!-- PWA & Manifest -->
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#000000">
<meta name="description" content="Control a gravity field with your mouse to guide a particle, collect targets, and avoid obstacles.">
<meta name="color-scheme" content="dark">

<!-- Apple iOS App -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="Gravity Assist">

<!-- Apple Touch Icons (various sizes for iOS) -->
<link rel="apple-touch-icon" sizes="180x180" href="icons/icon-180.svg">
<link rel="apple-touch-icon" sizes="167x167" href="icons/icon-167.svg">
<link rel="apple-touch-icon" sizes="152x152" href="icons/icon-152.svg">
<link rel="apple-touch-icon" sizes="120x120" href="icons/icon-120.svg">

<!-- Favicons (SVG first, fallback to PNG left for old agents) -->
<link rel="icon" type="image/svg+xml" sizes="512x512" href="icons/icon-512.svg">
<link rel="icon" type="image/svg+xml" sizes="192x192" href="icons/icon-192.svg">
<link rel="icon" type="image/svg+xml" sizes="96x96" href="icons/icon-96.svg">
<link rel="icon" type="image/svg+xml" sizes="32x32" href="icons/icon-32.svg">
<link rel="shortcut icon" href="icons/icon-32.svg">
<!-- Windows Tiles -->
<meta name="msapplication-TileColor" content="#000000">
<meta name="msapplication-TileImage" content="icons/icon-144.svg">
<meta name="msapplication-config" content="browserconfig.xml">

<!-- Android Chrome App Install -->
<meta name="mobile-web-app-capable" content="yes">
<link rel="icon" sizes="192x192" href="icons/icon-192.svg">
<link rel="icon" sizes="512x512" href="icons/icon-512.svg">

<!-- Open Graph (Social Media) -->
<meta property="og:title" content="Gravity Assist">
<meta property="og:description" content="Control gravity fields, collect targets, avoid obstacles.">
<meta property="og:image" content="icons/icon-512.svg">
<meta property="og:type" content="website">

<!-- Electron / Desktop App Detection -->
<meta name="application-name" content="Gravity Assist">

<!-- Stylesheet -->
<link rel="stylesheet" href="css/style.css">

</head>
<body>
<div id="ui">
Score: <span id="score">0</span> | Level: <span id="level">1</span> | Boosters: <span id="boosters">0</span>
</div>
<canvas id="c"></canvas>

<!-- Version label -->
<div id="version-label">v5.0</div>

<!-- Settings button -->
<div id="settings-btn" class="settings-btn" title="Settings">âš™</div>

<!-- Version modal -->
<div id="version-modal" class="modal">
  <div class="modal-content">
    <span class="close-btn">&times;</span>
    <h3>App Info</h3>
    <p id="version-info"></p>
  </div>
</div>

<!-- Settings modal -->
<div id="settings-modal" class="modal">
  <div class="modal-content settings-content" role="dialog" aria-modal="true" aria-labelledby="settings-title">
    <span class="close-settings close-btn" role="button" aria-label="Close">&times;</span>
    <h2 id="settings-title">Display & Pointer Settings</h2>
    <p class="section-desc">Choose a background preset. Hover for name.</p>
    <div id="bg-options" class="swatch-grid" role="radiogroup" aria-label="Background Presets">
      <label class="swatch-label" title="Classic Black"><input type="radio" name="bg" value="black"><span class="swatch black" aria-hidden="true"></span></label>
      <label class="swatch-label" title="Sky Gradient"><input type="radio" name="bg" value="sky"><span class="swatch sky" aria-hidden="true"></span></label>
      <label class="swatch-label" title="Purple Glow"><input type="radio" name="bg" value="purple"><span class="swatch purple" aria-hidden="true"></span></label>
      <label class="swatch-label" title="Ocean Fade"><input type="radio" name="bg" value="ocean"><span class="swatch ocean" aria-hidden="true"></span></label>
      <label class="swatch-label" title="Soft White"><input type="radio" name="bg" value="white"><span class="swatch white" aria-hidden="true"></span></label>
      <label class="swatch-label" title="Dusk (soft warm)"><input type="radio" name="bg" value="dusk"><span class="swatch dusk" aria-hidden="true"></span></label>
    </div>    
    <hr>    

    <hr>
    <div class="setting-row">
      <label for="bg-brightness">Brightness: <span id="bg-brightness-value">100%</span></label>
      <input id="bg-brightness" type="range" min="50" max="150" step="1" value="100">
    </div>
    <div class="setting-row">
      <label for="bg-grade">Color Grade:</label>
      <select id="bg-grade">
        <option value="none">None</option>
        <option value="warm">Warm</option>
        <option value="cool">Cool</option>
        <option value="desat">Desaturate</option>
      </select>
    </div>

    <hr>
    <div class="setting-row">
      <label><input type="checkbox" id="trail-toggle"> Enable Trails (leave faint trails on background)</label>
    </div>

    <hr>
    <h3>Pointer</h3>
    <p class="section-desc">Select pointer style (system cursor hides when a custom pointer is selected).</p>
    <div id="pointer-options" class="swatch-grid pointer-grid" role="radiogroup" aria-label="Pointer Style">
      <label class="pointer-label" title="Dot"><input type="radio" name="pointer" value="dot"><span class="pointer-swatch dot" aria-hidden="true"></span></label>
      <label class="pointer-label" title="Ring"><input type="radio" name="pointer" value="ring"><span class="pointer-swatch ring" aria-hidden="true"></span></label>
      <label class="pointer-label" title="Crosshair"><input type="radio" name="pointer" value="crosshair"><span class="pointer-swatch crosshair" aria-hidden="true"></span></label>
      <label class="pointer-label" title="Triangle"><input type="radio" name="pointer" value="triangle"><span class="pointer-swatch triangle" aria-hidden="true"></span></label>
      <label class="pointer-label" title="Plus"><input type="radio" name="pointer" value="plus"><span class="pointer-swatch plus" aria-hidden="true"></span></label>
    </div>
  </div>
</div>

<script src="js/spawn.js"></script>
<script src="js/draw.js"></script>
<script src="js/update.js"></script>
<script src="js/collisions.js"></script>
<script src="js/settings.js"></script>
<script src="js/main.js"></script>
<script src="js/version.js"></script>
<script>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('./sw.js')
      .then(() => console.log('Service Worker registered'))
      .catch((err) => console.error('Service Worker failed:', err));
  }
</script>
</body>
</html>
